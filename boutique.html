<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boutique - Normandie RP</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { background:#121212; color:white; font-family:Arial, sans-serif; }
    header { background:#1b1b1b; padding:15px; }
    .navbar ul { list-style:none; display:flex; gap:20px; padding:0; margin:0; }
    .navbar ul li a { text-decoration:none; color:white; font-weight:bold; }
    .navbar ul li a.active { color:#6a9eff; }

    main { max-width:1200px; margin:30px auto; padding:0 15px; }
    h1, h2 { text-align:center; margin-bottom:20px; }

    /* Champ pseudo */
    #username-container { text-align:center; margin-bottom:20px; }
    #username { padding:10px; border-radius:8px; border:1px solid #444; width:300px; }

    /* Cages produits */
    .logo-container { display:flex; justify-content:center; gap:20px; margin-bottom:50px; flex-wrap:wrap; }
    .logo-box { width:250px; background:#1b1b1b; border-radius:15px; border:2px solid #444; padding:10px; text-align:center; transition:0.3s; }
    .logo-box:hover { transform:scale(1.05); border-color:#6a9eff; }
    .logo-box img { width:100%; height:150px; object-fit:contain; border-radius:10px; background:#0f0f0f; }
    .logo-price { font-size:18px; font-weight:bold; color:#00ff7f; margin-bottom:10px; }
    .logo-title { margin-top:5px; font-size:16px; font-weight:bold; color:white; }

    .buy-btn { margin-top:10px; display:inline-block; background:#6a9eff; padding:8px 15px; border-radius:10px; text-decoration:none; font-weight:bold; color:#000; transition:0.3s; cursor:pointer; }
    .buy-btn:hover { background:#8ab4ff; transform:scale(1.05); }

    /* PANIER */
    #cart {
      position: fixed;
      top: 50px;
      right: 20px;
      width: 300px;
      background: #1b1b1b;
      border: 2px solid #444;
      border-radius: 15px;
      padding: 15px;
      color: #fff;
      z-index: 1000;
      display: none;
    }
    #cart.show { display:block; }
    #cart h2 { margin-bottom:10px; color:#f4c542; }
    #cart ul { list-style:none; padding-left:0; max-height:200px; overflow-y:auto; margin-bottom:10px; }
    #cart ul li { margin-bottom:5px; }
    #cart button { background:#f4c542; border:none; padding:10px; border-radius:10px; font-weight:bold; cursor:pointer; transition:0.3s; }
    #cart button:hover { background:#ffd75e; }

    /* Bouton voir le panier */
    #cart-toggle { position: fixed; top:20px; right:20px; padding:10px 15px; background:#f4c542; border:none; border-radius:10px; font-weight:bold; cursor:pointer; z-index:1001; }

    /* Animation du panier */
    #cart.highlight {
      animation: pulse 0.3s ease;
      border-color: #f4c542;
    }

    @keyframes pulse {
      0% { transform: scale(1); background-color: #1b1b1b; }
      50% { transform: scale(1.05); background-color: #2a2a2a; }
      100% { transform: scale(1); background-color: #1b1b1b; }
    }

    /* Notification flottante */
    #notification {
      position: fixed;
      top: 60px;
      right: 20px;
      background: #6a9eff;
      color: #000;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: bold;
      display: none;
      z-index: 1002;
    }
  </style>
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="nav-left">
        <img src="logo.png" alt="Logo Normandie RP" class="nav-logo" style="height:40px;">
        <span class="logo-text">Normandie RP</span>
      </div>
      <ul>
        <li><a href="index.html">Accueil</a></li>
        <li><a href="reglement.html">R√®glement</a></li>
        <li><a href="whitelist.html">Whitelist</a></li>
        <li><a href="jobs.html">M√©tiers</a></li>
        <li><a href="boutique.html" class="active">Boutique</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h1>üõí Boutique Normandie RP</h1>

    <!-- Champ pseudo -->
    <div id="username-container">
      <input type="text" id="username" placeholder="Entrez votre Nom et pr√©nom RP" />
    </div>

    <h2>üí∞ Offres K‚Ç¨</h2>
    <div class="logo-container">
      <div class="logo-box">
        <div class="logo-price">indisponible</div>
        <img src="10.000k.png" alt="10K">
        <div class="logo-title">10K</div>
        <button class="buy-btn" onclick="addToCart('10K', 'indisponible')">Acheter</button>
      </div>
      <div class="logo-box">
        <div class="logo-price">indisponible</div>
        <img src="50.000k.png" alt="50K">
        <div class="logo-title">50K</div>
        <button class="buy-btn" onclick="addToCart('50K', 'indisponible')">Acheter</button>
      </div>
      <div class="logo-box">
        <div class="logo-price">indisponible</div>
        <img src="100.000k.png" alt="100K">
        <div class="logo-title">100K</div>
        <button class="buy-btn" onclick="addToCart('100K', 'indisponible')">Acheter</button>
      </div>
    </div>

    <h2>‚≠ê Offres VIP</h2>
    <div class="logo-container">
      <div class="logo-box">
        <div class="logo-price" style="color:#cd7f32;">indisponible</div>
        <img src="vip-bronze.png" alt="VIP Bronze">
        <div class="logo-title">VIP Bronze</div>
        <button class="buy-btn" onclick="addToCart('VIP Bronze', 'indisponible')">Acheter</button>
      </div>
      <div class="logo-box">
        <div class="logo-price" style="color:#c0c0c0;">indisponible</div>
        <img src="vip-argent.png" alt="VIP Argent">
        <div class="logo-title">VIP Argent</div>
        <button class="buy-btn" onclick="addToCart('VIP Argent', 'indisponible')">Acheter</button>
      </div>
      <div class="logo-box">
        <div class="logo-price" style="color:gold;">indisponible</div>
        <img src="vip-or.png" alt="VIP Or">
        <div class="logo-title">VIP Or</div>
        <button class="buy-btn" onclick="addToCart('VIP Or', 'indisponible')">Acheter</button>
      </div>
    </div>
  </main>

  <!-- PANIER -->
  <div id="cart">
    <h2>üõí Panier</h2>
    <ul id="cart-items"></ul>
    <button onclick="checkout()">Proc√©der au paiement</button>
  </div>

  <button id="cart-toggle" onclick="document.getElementById('cart').classList.toggle('show')">Voir le panier</button>

  <!-- Notification -->
  <div id="notification"></div>

  <script>
    const cartItems = [];
    const cartList = document.getElementById('cart-items');
    const usernameInput = document.getElementById('username');
    const cartElement = document.getElementById('cart');
    const notification = document.getElementById('notification');

    const WEBHOOK_URL = "https://discord.com/api/webhooks/1444488116483391599/DDaOnl7TTtwQQUuwbeZgFEPqLfEYDDUh2zxQSBU4daeNikbkSRWguhBn8w2d9OUrS5tm";
    const ROLE_STAFF_ID = "1424110584424828997";

    function addToCart(itemName, itemPrice) {
      const username = usernameInput.value.trim();
      if (!username) {
        alert("Veuillez entrer votre pseudo RP avant d'acheter !");
        return;
      }

      cartItems.push({ name: itemName, price: itemPrice, user: username });
      renderCart();

      // Effet visuel panier
      cartElement.classList.add('highlight');
      setTimeout(() => cartElement.classList.remove('highlight'), 300);

      // Notification flottante
      notification.textContent = `‚úÖ Article ajout√© : ${itemName}`;
      notification.style.display = 'block';
      setTimeout(() => { notification.style.display = 'none'; }, 1000);
    }

    function renderCart() {
      cartList.innerHTML = '';
      cartItems.forEach(item => {
        const li = document.createElement('li');
        li.textContent = `${item.name} - ${item.price} - ${item.user}`;
        cartList.appendChild(li);
      });
    }

    function checkout() {
      if (cartItems.length === 0) {
        alert("Votre panier est vide !");
        return;
      }

      cartItems.forEach(item => {
        const embed = {
          content: `<@&${ROLE_STAFF_ID}> Nouvel achat !`,
          embeds: [{
            title: "üõí Achat boutique",
            color: 0x6a9eff,
            fields: [
              { name: "Article", value: item.name, inline: true },
              { name: "Prix", value: item.price, inline: true },
              { name: "Acheteur", value: item.user, inline: false }
            ]
          }]
        };

        fetch(WEBHOOK_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(embed)
        });
      });

      alert("Achat envoy√© aux staffs !");
      cartItems.length = 0;
      renderCart();
    }
  </script>
</body>
</html>
