<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boutique - Normandie RP</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body { font-family: Arial, sans-serif; background: #121212; color: #fff; }

    .logo-container {
      display: flex;
      justify-content: center; /* articles centr√©s horizontalement */
      gap: 20px;
      margin-top: 40px;
      flex-wrap: wrap;
    }

    .logo-box {
      width: 150px;
      height: 250px;
      background: #1b1b1b;
      border-radius: 15px;
      border: 2px solid #444;
      padding: 10px;
      text-align: center;
      transition: 0.3s;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .logo-box:hover { transform: scale(1.05); border-color: #6a9eff; }

    .logo-price { font-size: 18px; font-weight: bold; color: #ff5555; margin-bottom: 8px; }
    .logo-box img { width: 100%; height: 150px; object-fit: cover; border-radius: 10px; background: #0f0f0f; }
    .logo-title { margin-top: 8px; font-size: 14px; font-weight: bold; color: white; }

    .buy-btn {
      margin-top: 8px;
      display: inline-block;
      background: #6a9eff;
      padding: 6px 12px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      color: #000;
      transition: 0.3s;
      font-size: 13px;
      cursor: pointer;
    }
    .buy-btn:hover { background: #8ab4ff; transform: scale(1.05); }

    /* PANIER */
    #cart-toggle {
      position: fixed;
      top: 60px; /* bouton l√©g√®rement plus bas */
      right: 20px;
      padding: 10px 15px;
      background: #f4c542;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      z-index: 1000;
      transition: 0.3s;
    }
    #cart-toggle:hover { background: #ffd75e; }

    #cart {
      position: fixed;
      top: 100px;
      right: 20px;
      width: 280px;
      max-height: 400px;
      background: #1b1b1b;
      border: 2px solid #444;
      border-radius: 15px;
      padding: 10px;
      color: #fff;
      display: none;
      z-index: 999;
      overflow-y: auto;
      box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    }
    #cart.show { display: block; }

    #cart h2 { text-align: center; margin-bottom: 10px; color: #f4c542; }
    #cart ul { list-style: none; padding: 0; margin: 0 0 10px 0; }
    #cart ul li {
      display: flex;
      justify-content: space-between;
      padding: 5px 0;
      border-bottom: 1px solid #333;
      font-size: 14px;
    }
    #cart-thumbnails {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-bottom: 10px;
    }
    #cart-thumbnails img {
      width: 50px;
      height: 50px;
      object-fit: cover;
      border-radius: 5px;
      border: 1px solid #444;
    }
    #cart button {
      width: 100%;
      padding: 8px;
      background: #f4c542;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    #cart button:hover { background: #ffd75e; }
  </style>
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="nav-left">
        <img src="logo.png" alt="Logo Normandie RP" class="nav-logo">
        <span class="logo-text">Normandie RP</span>
      </div>
      <ul>
        <li><a href="index.html">Accueil</a></li>
        <li><a href="reglement.html">R√®glement</a></li>
        <li><a href="whitelist.html">Whitelist</a></li>
        <li><a href="jobs.html">M√©tiers</a></li>
        <li><a href="boutique.html" class="active">Boutique</a></li>
      </ul>
    </nav>
  </header>

  <button id="cart-toggle" onclick="document.getElementById('cart').classList.toggle('show')">üõí Voir le panier</button>

  <main class="rules">
    <h1>üõí Boutique en cours de construction</h1>

    <!-- LOGOS STANDARDS -->
    <div class="logo-container">
      <div class="logo-box">
        <div class="logo-price">indisponible</div>
        <img src="10.000k.png" alt="Logo 10k">
        <div class="logo-title">10k</div>
        <button class="buy-btn" onclick="addToCart('10k',0,'10.000k.png')">Acheter</button>
      </div>
      <div class="logo-box">
        <div class="logo-price">indisponible</div>
        <img src="50.000k.png" alt="Logo 50k">
        <div class="logo-title">50k</div>
        <button class="buy-btn" onclick="addToCart('50k',0,'50.000k.png')">Acheter</button>
      </div>
      <div class="logo-box">
        <div class="logo-price">indisponible</div>
        <img src="100.000k.png" alt="Logo 100k">
        <div class="logo-title">100k</div>
        <button class="buy-btn" onclick="addToCart('100k',0,'100.000k.png')">Acheter</button>
      </div>
    </div>

    <!-- VIP -->
    <h2 style="color:#f4c542; margin-top:40px;">‚≠ê Zones VIP</h2>
    <div class="logo-container">
      <div class="logo-box">
        <div class="logo-price" style="color:#cd7f32;">indisponible</div>
        <img src="vip-bronze.png" alt="VIP Bronze">
        <div class="logo-title">VIP Bronze</div>
        <button class="buy-btn" onclick="addToCart('VIP Bronze',0,'vip-bronze.png')">Acheter</button>
      </div>
      <div class="logo-box">
        <div class="logo-price" style="color:#c0c0c0;">indisponible</div>
        <img src="vip-argent.png" alt="VIP Argent">
        <div class="logo-title">VIP Argent</div>
        <button class="buy-btn" onclick="addToCart('VIP Argent',0,'vip-argent.png')">Acheter</button>
      </div>
      <div class="logo-box">
        <div class="logo-price" style="color:gold;">indisponible</div>
        <img src="vip-or.png" alt="VIP Or">
        <div class="logo-title">VIP Or</div>
        <button class="buy-btn" onclick="addToCart('VIP Or',0,'vip-or.png')">Acheter</button>
      </div>
    </div>
  </main>

  <!-- PANIER -->
  <div id="cart">
    <h2>üõí Panier</h2>
    <div id="cart-thumbnails"></div>
    <ul id="cart-items"></ul>
    <p>Total : <span id="cart-total">0</span> ‚Ç¨</p>
    <button onclick="checkout()">Proc√©der au paiement</button>
  </div>

  <footer>
    <p>¬© 2025 Normandie RP ‚Äî Tous droits r√©serv√©s</p>
  </footer>

  <script>
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1444488116483391599/DDaOnl7TTtwQQUuwbeZgFEPqLfEYDDUh2zxQSBU4daeNikbkSRWguhBn8w2d9OUrS5tm";
    const STAFF_ROLE_ID = "1437481487866794036";

    let cart = [];
    let total = 0;

    function addToCart(name, price, imgSrc) {
      const username = prompt("Veuillez entrer votre pseudo Discord :");
      if(!username) return alert("Vous devez entrer un pseudo Discord !");

      cart.push({name, price, username, imgSrc});
      total += price;
      updateCart();
      sendToDiscord(username, name, price);
    }

    function updateCart() {
      const cartItems = document.getElementById('cart-items');
      const cartThumb = document.getElementById('cart-thumbnails');
      cartItems.innerHTML = '';
      cartThumb.innerHTML = '';
      cart.forEach(item => {
        // Liste
        const li = document.createElement('li');
        li.textContent = item.name;
        const span = document.createElement('span');
        span.textContent = item.price + ' ‚Ç¨';
        li.appendChild(span);
        cartItems.appendChild(li);

        // Miniature
        const img = document.createElement('img');
        img.src = item.imgSrc;
        cartThumb.appendChild(img);
      });
      document.getElementById('cart-total').textContent = total;
    }

    function checkout() {
      if(cart.length === 0){
        alert("Votre panier est vide !");
        return;
      }
      alert("Total √† payer : " + total + " ‚Ç¨");
      cart = [];
      total = 0;
      updateCart();
      document.getElementById('cart').classList.remove('show');
    }

    function sendToDiscord(username, product, price) {
      const payload = {
        content: `<@&${STAFF_ROLE_ID}> üì¶ **Nouvel achat !**\nUtilisateur : ${username}\nProduit : ${product}\nPrix : ${price} ‚Ç¨`
      };

      fetch(WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      })
      .then(res => {
        if(res.ok) console.log("Message envoy√© sur Discord et ping Staff !");
        else console.error("Erreur lors de l'envoi sur Discord");
      })
      .catch(err => console.error("Erreur fetch Discord :", err));
    }
  </script>
</body>
</html>
